# system-admin Specification

## Purpose
TBD - created by archiving change add-furanomi-system. Update Purpose after archive.
## Requirements
### Requirement: システム管理者認証
システム管理者は認証されたアカウントでログインできる。システムSHALL有効な認証情報でのみ管理画面へのアクセスを許可する。

#### Scenario: ログイン
- **WHEN** システム管理者がログイン画面で認証情報を入力する
- **THEN** 有効な認証情報の場合、ダッシュボードにアクセスできる

#### Scenario: ログアウト
- **WHEN** システム管理者がログアウトボタンをクリックする
- **THEN** セッションが終了し、ログイン画面に戻る

#### Scenario: 認証エラー
- **WHEN** システム管理者が無効な認証情報を入力する
- **THEN** エラーメッセージが表示され、ログインできない

### Requirement: ダッシュボード（モバイルファースト）
システム管理者はシステム全体の状況を確認できる。システムSHALLモバイルファーストのシンプルなダッシュボードを提供する。

#### Scenario: ダッシュボード表示
- **WHEN** システム管理者がダッシュボードにアクセスする
- **THEN** 以下の統計情報が表示される：
  - 総店舗数
  - アクティブ店舗数
  - 総店舗管理者数
  - アクティブ店舗管理者数
- **AND** クイックアクションは表示されない（シンプルな構成）

#### Scenario: モバイル最適化
- **WHEN** システム管理者がモバイルデバイスでダッシュボードにアクセスする
- **THEN** モバイルに最適化されたレイアウトで表示される
- **AND** 統計情報はカード形式で見やすく配置される

### Requirement: 店舗管理
システム管理者は店舗の登録・編集・削除ができる。システムSHALL店舗と店舗管理者の関連付けを管理する。

#### Scenario: 店舗一覧表示
- **WHEN** システム管理者が店舗管理画面にアクセスする
- **THEN** 全店舗の一覧が表示される
- **AND** 各店舗に以下の情報が表示される：
  - 店舗名
  - 住所
  - カテゴリ
  - 関連付けられた店舗管理者
  - アクティブ状態

#### Scenario: 店舗登録
- **WHEN** システム管理者が新しい店舗を登録する
- **THEN** 以下の情報を入力できる：
  - 店舗名
  - 住所
  - 電話番号
  - メールアドレス
  - カテゴリ
  - 緯度・経度
  - 店舗画像
  - 営業時間（全曜日）
- **AND** 既存の店舗管理者を選択するか、新しい店舗管理者を作成できる

#### Scenario: 店舗編集
- **WHEN** システム管理者が店舗情報を編集する
- **THEN** 店舗の基本情報を更新できる
- **AND** 関連付けられた店舗管理者を変更できる
- **AND** 利用可能な店舗管理者のリストが表示される

#### Scenario: 店舗削除
- **WHEN** システム管理者が店舗を削除する
- **THEN** 確認ダイアログが表示される
- **AND** 削除後は店舗が非アクティブ状態になる

### Requirement: 店舗管理者アカウント管理
システム管理者は店舗管理者アカウントの作成・編集・削除ができる。システムSHALL店舗管理者と店舗の1対1関係を維持する。

#### Scenario: 店舗管理者一覧表示
- **WHEN** システム管理者が店舗管理者管理画面にアクセスする
- **THEN** 全店舗管理者の一覧が表示される
- **AND** 各店舗管理者に以下の情報が表示される：
  - ユーザー名
  - 姓名
  - 関連付けられた店舗
  - アクティブ状態

#### Scenario: 店舗管理者作成
- **WHEN** システム管理者が新しい店舗管理者を作成する
- **THEN** 以下の情報を入力できる：
  - ユーザー名
  - パスワード
  - 姓名
  - 関連付けられる店舗（オプション）

#### Scenario: 店舗管理者編集
- **WHEN** システム管理者が店舗管理者情報を編集する
- **THEN** 基本情報を更新できる
- **AND** パスワードを変更できる（オプション）
- **AND** 関連付けられた店舗を変更できる

#### Scenario: 店舗管理者削除
- **WHEN** システム管理者が店舗管理者を削除する
- **THEN** 確認ダイアログが表示される
- **AND** 削除後は店舗管理者が非アクティブ状態になる

### Requirement: システム設定管理（営業時間設定除外）
システム管理者はシステム全体の設定を管理できる。システムSHALL営業時間設定を除外した基本設定のみを提供する。

#### Scenario: システム設定表示
- **WHEN** システム管理者がシステム設定画面にアクセスする
- **THEN** 以下の設定項目が表示される：
  - 検索半径（メートル単位）
  - 最大表示店舗数
  - 自動更新間隔（秒）
- **AND** 営業時間設定は表示されない（個別店舗で管理）

#### Scenario: 設定更新
- **WHEN** システム管理者が設定値を変更する
- **THEN** 変更内容がデータベースに保存される
- **AND** 利用者アプリの動作に即座に反映される

#### Scenario: 現在の設定表示
- **WHEN** システム管理者が設定画面を表示する
- **THEN** 「現在の設定」セクションに以下の情報が表示される：
  - 検索半径: 1000m
  - 最大表示店舗数: 50
  - 自動更新間隔: 30秒

### Requirement: モバイルファーストデザイン
システム管理者はモバイルデバイスでも操作できる。システムSHALLモバイル・タブレットに最適化されたUIを提供する。

#### Scenario: モバイル表示
- **WHEN** システム管理者がスマートフォンでアプリにアクセスする
- **THEN** モバイルに最適化されたUIで操作できる
- **AND** フッターナビゲーションで主要機能にアクセスできる

#### Scenario: タブレット表示
- **WHEN** システム管理者がタブレットでアプリにアクセスする
- **THEN** タブレットに最適化されたUIで操作できる
- **AND** より多くの情報を効率的に表示できる

#### Scenario: レスポンシブレイアウト
- **WHEN** システム管理者が異なる画面サイズでアプリにアクセスする
- **THEN** 画面サイズに応じて最適なレイアウトで表示される
- **AND** フォームやテーブルが画面に収まるように調整される

### Requirement: アクセス権限
システム管理者は全店舗と全店舗管理者を管理できる。システムSHALLシステム管理者のみが管理機能にアクセスできるようにする。

#### Scenario: 権限チェック
- **WHEN** システム管理者が管理機能にアクセスする
- **THEN** システム管理者権限が確認される
- **AND** 権限がない場合はアクセスが拒否される

#### Scenario: 全データアクセス
- **WHEN** システム管理者が店舗や店舗管理者を表示する
- **THEN** 全店舗と全店舗管理者の情報が表示される
- **AND** 他の管理者の制限は受けない

