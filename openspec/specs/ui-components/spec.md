# UI Components Specification

## Purpose
ふらのみアプリケーションで使用される共通UIコンポーネントの仕様を定義する。

## Requirements

### Requirement: トースト通知システム
アプリケーション全体でユーザーフレンドリーな通知を表示する。システムSHALLモダンなトースト通知システムを提供し、ブラウザネイティブのalert()を置き換える。

#### Scenario: トースト通知の表示
- **WHEN** ユーザーが操作を実行する
- **THEN** 適切なトースト通知が表示される
- **AND** ユーザー操作をブロックしない
- **AND** 自動的に消える（デフォルト5秒）

#### Scenario: トースト通知のバリアント
- **WHEN** トースト通知が表示される
- **THEN** 以下のバリアントが使用される：
  - **情報（青）**: `border-blue-200 bg-blue-50 text-blue-900` - 一般的な情報・通知
  - **成功（緑）**: `border-green-200 bg-green-50 text-green-900` - 操作成功・完了
  - **エラー（赤）**: `border-red-200 bg-red-50 text-red-900` - エラー・失敗

#### Scenario: トースト通知の表示位置
- **WHEN** トースト通知が表示される
- **THEN** 以下の位置に表示される：
  - **デスクトップ**: 右上
  - **モバイル**: 上部中央（ヘッダーと重ならないようtop-20で調整）
- **AND** 複数のトーストが同時に表示可能

#### Scenario: トースト通知のアクセシビリティ
- **WHEN** トースト通知が表示される
- **THEN** 以下のアクセシビリティ機能が提供される：
  - ARIA属性の適切な設定
  - キーボード操作対応（Escキーで閉じる）
  - スクリーンリーダー対応
  - 自動フォーカス管理

#### Scenario: トースト通知の使用例
- **WHEN** スタッフが空き状況を更新する
- **THEN** 成功時に緑色のトーストが表示される
- **例**: `toast({ title: "更新完了", description: "空き状況を更新しました！", variant: "success" })`

- **WHEN** 店舗管理者が店舗情報を保存する
- **THEN** 成功時に緑色、失敗時に赤色のトーストが表示される
- **例**: `toast({ title: "保存完了", description: "店舗情報を保存しました！", variant: "success" })`

- **WHEN** URLをコピーする
- **THEN** 青色の情報トーストが表示される
- **例**: `toast({ description: "URLをコピーしました", variant: "default" })`

### Requirement: トースト通知の実装仕様
トースト通知システムは以下の技術スタックで実装される。

#### Scenario: 技術スタック
- **WHEN** トースト通知システムが実装される
- **THEN** 以下の技術が使用される：
  - **ライブラリ**: `@radix-ui/react-toast`（Radix UIのToastプリミティブ）
  - **スタイル**: Tailwind CSS + shadcn/uiのデザインシステム
  - **実装**: カスタムフック（`useToast`）で簡単に使用可能

#### Scenario: コンポーネント構成
- **WHEN** トースト通知システムが実装される
- **THEN** 以下のコンポーネントが提供される：
  - `Toast`: 個別のトースト通知コンポーネント
  - `Toaster`: トーストのコンテナコンポーネント
  - `useToast`: トースト表示のためのカスタムフック

#### Scenario: アプリケーション統合
- **WHEN** アプリケーションが起動される
- **THEN** `Toaster`コンポーネントがアプリケーションのルートに配置される
- **AND** 全ての画面でトースト通知が利用可能

### Requirement: 既存alert()の置き換え
アプリケーション全体のブラウザネイティブalert()をトースト通知に置き換える。

#### Scenario: 置き換え対象
- **WHEN** alert()の置き換えが実行される
- **THEN** 以下のコンポーネントのalert()が置き換えられる：
  - `StaffAvailabilityUpdate.tsx`（1箇所）
  - `ShopInfoEdit.tsx`（2箇所）
  - `AvailabilityUpdate.tsx`（7箇所）
- **合計**: 10箇所

#### Scenario: 置き換え後の動作
- **WHEN** 各操作が実行される
- **THEN** 以下のトースト通知が表示される：
  - 空き状況更新成功: 緑色のトースト
  - 店舗情報保存成功: 緑色のトースト
  - 店舗情報保存失敗: 赤色のトースト
  - QRコード再発行成功: 緑色のトースト
  - QRコード再発行失敗: 赤色のトースト
  - 合言葉再生成成功: 緑色のトースト
  - 合言葉再生成失敗: 赤色のトースト
  - URLコピー成功: 青色のトースト

## 受け入れ基準

- [ ] 全てのalert()が削除されている（10箇所）
- [ ] トースト通知コンポーネントが実装されている
- [ ] 成功時に適切なトースト通知が表示される
- [ ] エラー時に赤いトースト通知が表示される
- [ ] 情報時に青いトースト通知が表示される
- [ ] モバイルで適切に表示される
- [ ] アクセシビリティに配慮されている
- [ ] デスクトップとモバイルで表示位置が適切
- [ ] 複数のトーストが同時に表示可能
- [ ] ビルドエラーがない
- [ ] 全ての機能が正常に動作する

## 参考資料

- [Radix UI Toast Documentation](https://www.radix-ui.com/primitives/docs/components/toast)
- [shadcn/ui Toast Component](https://ui.shadcn.com/docs/components/toast)
