# ふらのみ Webアプリケーション実装タスク（MVPリリース向け整理）

## Phase 1: MVPリリース（最小限の機能でサービス開始）

### 🎯 MVPゴール
**利用者が店舗の空き状況を確認し、店舗管理者が空き状況を更新できる最小限の機能を提供**

### 1. プロジェクト初期設定
- [x] 1.1 フロントエンドプロジェクトの初期化（React + TypeScript + Vite）
- [x] 1.2 バックエンドプロジェクトの初期化（Node.js + Express + TypeScript）
- [x] 1.3 データベース設計とPostgreSQLセットアップ
- [x] 1.4 ESLint + Prettierの設定
- [x] 1.5 Gitリポジトリの初期化とブランチ戦略設定

### 2. データベース設計・実装（MVP最小限）
- [x] 2.1 店舗テーブルの設計・作成
- [x] 2.2 店舗管理者テーブルの設計・作成
- [x] 2.3 システム管理者テーブルの設計・作成
- [x] 2.4 空き状況テーブルの設計・作成
- [x] 2.5 システム設定テーブルの設計・作成（検索半径設定）
- [x] 2.6 データベースマイグレーションスクリプトの作成
- [x] 2.7 初期データの投入（テスト用店舗データ、システム設定）

### 3. バックエンドAPI開発（MVP最小限）
- [x] 3.1 認証システムの実装（JWT + HTTP-only cookies）
- [x] 3.2 店舗管理API（CRUD操作）
- [x] 3.3 店舗管理者認証API
- [x] 3.4 システム管理者認証API
- [x] 3.5 空き状況更新API
- [x] 3.6 店舗検索API（位置情報ベース）
- [ ] 3.7 リアルタイム更新機能（WebSocket/SSE）
- [x] 3.8 システム設定管理API（検索半径設定）

### 4. フロントエンド開発（MVP最小限）

#### 4.1 共通コンポーネント
- [x] 4.1.1 レイアウトコンポーネント
- [x] 4.1.2 ナビゲーションコンポーネント
- [x] 4.1.3 ローディングコンポーネント
- [x] 4.1.4 エラーハンドリングコンポーネント

#### 4.2 利用者用アプリ（MVP必須）
- [x] 4.2.1 店舗検索画面（位置情報取得）
- [x] 4.2.2 店舗リスト表示画面
- [ ] 4.2.3 地図表示画面（Google Maps統合）
- [x] 4.2.4 店舗詳細画面
- [x] 4.2.5 レスポンシブデザイン対応

#### 4.3 店舗管理者用アプリ（MVP必須）
- [x] 4.3.1 ログイン画面
- [x] 4.3.2 ダッシュボード画面
- [x] 4.3.3 店舗情報編集画面
- [x] 4.3.4 空き状況更新画面
- [x] 4.3.5 モバイル対応

#### 4.4 システム管理者用アプリ（MVP必須）
- [x] 4.4.1 管理者ログイン画面
- [x] 4.4.2 管理者ダッシュボード
- [x] 4.4.3 店舗管理画面（登録・編集・削除）
- [x] 4.4.4 店舗管理者アカウント管理画面
- [x] 4.4.5 システム設定管理画面（検索半径設定）

### 5. MVPリリース準備
- [ ] 5.1 基本的なセキュリティ実装（認証・認可）
- [ ] 5.2 フロントエンドデプロイ設定（Vercel/Netlify）
- [ ] 5.3 バックエンドデプロイ設定（Railway/Render）
- [ ] 5.4 データベース本番環境設定
- [ ] 5.5 環境変数の設定
- [ ] 5.6 基本的なドキュメント作成（README、API仕様）
- [ ] 5.7 MVP機能テストの実行

---

## Phase 2以降: 機能拡張（未確定・将来実装）

### Phase 2: 利用者体験向上
- [ ] PWA機能実装（Web App Manifest、Service Worker）
- [ ] Google Maps API統合（地図表示、マーカー機能）
- [ ] オフライン対応
- [ ] プッシュ通知機能

### Phase 3: 品質・運用向上
- [ ] 包括的なテスト実装（単体・統合・E2E）
- [ ] セキュリティ強化（CSRF、XSS対策、レート制限）
- [ ] パフォーマンス最適化（バンドル最適化、キャッシュ戦略）
- [ ] 運用監視（ログ監視、バックアップ、アラート）

### Phase 4: 機能拡張（将来）
- [ ] システム監視画面
- [ ] 高度な分析機能
- [ ] マルチテナント対応
- [ ] API v2実装

---

## 📊 MVP進捗状況

### Phase 1: MVPリリース
- **全体進捗**: 約90%完了
- **プロジェクト初期設定**: 100%完了 ✅
- **データベース設計・実装**: 100%完了 ✅
- **バックエンドAPI開発**: 90%完了
  - ✅ 認証システム: 100%完了
  - ✅ 店舗管理API: 100%完了
  - ✅ 空き状況更新API: 100%完了
  - ✅ システム設定管理API: 100%完了
  - ✅ 店舗検索API（位置情報ベース）: 100%完了
  - ❌ リアルタイム更新機能: 0%完了
- **フロントエンド開発**: 95%完了
  - ✅ 共通コンポーネント: 100%完了
  - ✅ 利用者用アプリ: 80%完了（Google Maps除く）
  - ✅ 店舗管理者用アプリ: 100%完了
  - ✅ システム管理者用アプリ: 100%完了
- **MVPリリース準備**: 0%完了

---

## 🎯 MVPリリースまでの道のり

### 🚀 残り必須タスク（MVPリリースに必要）

#### 高優先度（MVP必須）
1. **店舗検索API（位置情報ベース）**（3.6）
   - 位置情報に基づく店舗検索機能
   - 検索半径設定の活用

2. **MVPリリース準備**（5.1-5.7）
   - 基本的なセキュリティ実装
   - デプロイ設定（フロントエンド・バックエンド）
   - 本番環境データベース設定
   - 環境変数設定
   - ドキュメント作成
   - MVP機能テスト

#### 中優先度（MVP推奨）
3. **地図表示画面（Google Maps統合）**（4.2.3）
   - Google Maps API統合
   - 店舗マーカー表示

#### 低優先度（Phase 2以降）
4. **リアルタイム更新機能**（3.7）
   - WebSocket/SSE実装
   - 空き状況のリアルタイム更新

### ⚡ 推奨実装順序
1. **店舗検索API（位置情報ベース）** → 利用者アプリの核心機能
2. **MVPリリース準備** → 本番環境での動作確認
3. **地図表示画面** → 利用者体験向上
4. **リアルタイム更新機能** → Phase 2で実装

### 🎯 MVP成功の定義
- ✅ 利用者が店舗の空き状況を確認できる
- ✅ 店舗管理者が空き状況を更新できる
- ✅ システム管理者が店舗を登録・管理できる
- ✅ 基本的なセキュリティが実装されている
- ✅ 本番環境で動作する

### 📈 次のマイルストーン
**MVPリリース完了** → ユーザーフィードバック収集 → Phase2機能拡張の計画

---

## 🔥 緊急度別タスク

### 🔴 緊急（MVPリリース必須）
- [ ] 3.6 店舗検索API（位置情報ベース）
- [ ] 5.1 基本的なセキュリティ実装（認証・認可）
- [ ] 5.2 フロントエンドデプロイ設定（Vercel/Netlify）
- [ ] 5.3 バックエンドデプロイ設定（Railway/Render）
- [ ] 5.4 データベース本番環境設定
- [ ] 5.5 環境変数の設定
- [ ] 5.6 基本的なドキュメント作成（README、API仕様）
- [ ] 5.7 MVP機能テストの実行

### 🟡 重要（MVP推奨）
- [ ] 4.2.3 地図表示画面（Google Maps統合）

### 🟢 将来（Phase 2以降）
- [ ] 3.7 リアルタイム更新機能（WebSocket/SSE）