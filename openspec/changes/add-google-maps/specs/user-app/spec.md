# 利用者用アプリ仕様（Google Maps統合）

## ADDED Requirements

### Requirement: 地図表示機能
利用者は店舗の位置を地図上で確認できる。システムSHALL Google Maps APIを使用して地図表示機能を提供する。

#### Scenario: 地図表示の初期化
- **WHEN** 利用者が地図表示に切り替える
- **THEN** Google Maps APIが初期化され、現在地を中心とした地図が表示される
- **AND** 地図のズームレベルは適切に設定される

#### Scenario: 店舗マーカーの表示
- **WHEN** 地図が表示される
- **THEN** 検索結果の店舗がマーカーとして表示される
- **AND** 各マーカーは空き状況に応じて色分けされる
- **AND** マーカーには店舗名が表示される

#### Scenario: マーカーの色分け
- **WHEN** 店舗マーカーが表示される
- **THEN** 空き状況に応じて以下の色で表示される：
  - 空きあり: 緑色
  - 混雑: 黄色
  - 満席: 赤色
  - 営業時間外: グレー

#### Scenario: マーカークリック
- **WHEN** 利用者が店舗マーカーをクリックする
- **THEN** 店舗詳細モーダルが表示される
- **AND** リスト表示と同じ店舗詳細情報が表示される

### Requirement: 表示切り替え機能
利用者はリスト表示と地図表示を切り替えられる。システムSHALL 簡単な切り替えボタンを提供する。

#### Scenario: 表示モード切り替え
- **WHEN** 利用者が表示切り替えボタンをクリックする
- **THEN** リスト表示と地図表示が切り替わる
- **AND** 現在の表示モードが視覚的に分かる

#### Scenario: データの同期
- **WHEN** 表示モードが切り替わる
- **THEN** 同じ店舗データが両方の表示で使用される
- **AND** 検索結果やフィルタが両方に反映される

### Requirement: レスポンシブ地図表示
地図表示はモバイルデバイスでも快適に利用できる。システムSHALL モバイルファーストの地図表示を提供する。

#### Scenario: モバイル地図表示
- **WHEN** 利用者がスマートフォンで地図表示にアクセスする
- **THEN** モバイルに最適化された地図サイズで表示される
- **AND** タッチ操作で地図の移動・ズームが可能

#### Scenario: タブレット地図表示
- **WHEN** 利用者がタブレットで地図表示にアクセスする
- **THEN** タブレットに最適化された地図サイズで表示される
- **AND** より大きな画面を活用した表示
